<!doctype html>
<html>
<head>
<title>JPG.to Live!</title>
<style type="text/css">
p
{
    margin:50px;
}
</style>
</head>

<body>
<p>
    Start typing, and we'll use <a href="http://jpg.to">http://jpg.to</a> to show an image. This was a quick hack by <a href="http://codecube.net">Joel Martinez</a>.
</p>
<p><em>disclaimer: I don't control what jpg.to returns, so type at your own risk :-)</em></p>
<p>
    <input type="text" id="txt" value="live" />
</p>
<p>
    <img id="out" src="http://live.jpg.to" />
</p>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
<script>
var wait = new Image();
wait.src = "http://wait.jpg.to";

$(function() {
    var txt = $("#txt"),
        out = $("#out");
    txt.keyup(function() {
    delay(function(){
        var input = txt.val().split(" ").join("_"),
            newsrc = "http://" + input + ".jpg.to";

        if (input) {
        	out.attr("src", wait.src);
        	
        	var loader = new Image();
            loader.src = newsrc;
            loader.onload = function () {
                out.attr("src", loader.src);
            };
            this.images[name] = img;
            out.attr("src", newsrc).show();
        }
        else {
            out.hide();
        }
    }, 100 );
});
});

// nifty function from: http://stackoverflow.com/a/1909508/5416
var delay = (function(){
  var timer = 0;
  return function(callback, ms){
    clearTimeout (timer);
    timer = setTimeout(callback, ms);
  };
})();


</script>

</body>
</html>
